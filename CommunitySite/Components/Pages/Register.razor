@page "/Register"

@using FluentValidation
@using Microsoft.AspNetCore.Components.Server.ProtectedBrowserStorage
@inject ISnackbar Snackbar
@inject ProtectedSessionStorage ProtectedSessionStore

<MudGrid Justify="Justify.Center">
    <MudItem>
        <MudCard>
            <MudCardContent>
                <MudForm Model="@_userViewModel" @ref="_form" Validation="@(validationRules.ValidateValue)" ValidationDelay="0">
                    <MudTextField @bind-Value="_userViewModel.SurName" For="@(() => _userViewModel.SurName)" Label="Surname"></MudTextField>
                    <MudTextField @bind-Value="_userViewModel.LastName" For="@(() => _userViewModel.LastName)" Label="Lastname"></MudTextField>
                    <MudTextField @bind-Value="_userViewModel.Email"  For="@(() => _userViewModel.Email)" Label="Email"></MudTextField>
                    <MudTextField InputType="InputType.Password" @bind-Value="_userViewModel.Passwords" For="@(() => _userViewModel.Passwords)" Label="Password"></MudTextField>
                    <MudNumericField @bind-Value="_userViewModel.BirthYear" For="@(() => _userViewModel.BirthYear)" Label="Year" Min="1" MaxLength="4"></MudNumericField>
                    <MudNumericField @bind-Value="_userViewModel.BirthMonth" For="@(() => _userViewModel.BirthMonth)" Label="Month" Min="1" Max="12"></MudNumericField>
                    <MudNumericField @bind-Value="_userViewModel.BirthDay" For="@(() => _userViewModel.BirthDay)" Label="Day" Min="1" Max="31"></MudNumericField>
                </MudForm>
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto" OnClick="@(async () => await Submit())">Order</MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>
</MudGrid>